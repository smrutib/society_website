{%extends 'member/index.html' %}
{% block title %} complaint {% endblock %}
{% load render_table from django_tables2 %}
{% load bootstrap4 %}

{{% load static %}
{% block content %}
	<head>
	<title>Contact V15</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">


<script src="{% static 'js/request.js' %}"></script>
 <link rel="stylesheet" href="{% static 'css/request_statusbar.css' %}">
 <link rel="stylesheet" type="text/css" href="{% static 'css/request_table_style.css' %}">

<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="{% static 'form/images/icons/favicon.ico' %}"/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/bootstrap/css/bootstrap.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/fonts/Linearicons-Free-v1.0.0/icon-font.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/animate/animate.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/css-hamburgers/hamburgers.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/animsition/css/animsition.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/select2/select2.min.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/vendor/daterangepicker/daterangepicker.css' %}">
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="{% static 'form/css/util.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'form/css/main.css' %}">
<!--===============================================================================================-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
 

</head>

<body>	

	<div class="wrap-contact100" >
			<div class="contact100-form-title" style="background-image: url({% static 'form/images/bg-01.jpg' %});">
				<span class="contact100-form-title-1">
					Request
				</span>

				<span class="contact100-form-title-2">
					Enter the details Below!
				</span>
			</div>
	<form  method="post" class="contact100-form " enctype="multipart/form-data" >
		{% csrf_token %}

			<div class="wrap-drop100 ">
					{% if form.wing.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">Wing is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">Wing:</span>
					<select name="wing"  class="drop100" >
					<option value="" disabled selected>Wing</option>	
					<option value="A">A</option>
					<option value="B">B</option>
					<option value="C">C</option>
				</select>
				</div>

				<div class="wrap-drop100 ">
					{% if form.flat.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">Flat no. is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">Flat no:</span>
					<select name="flat" maxlength="3" id="id_flat" class="drop100" >
					<option value="" disabled selected>Flat No</option>	
					<option value="101">101</option>
					<option value="102">102</option>
					<option value="103">103</option>
					<option value="104">104</option>
					<option value="201">201</option>
					<option value="202">202</option>
					<option value="203">203</option>
					<option value="204">204</option>
					<option value="301">301</option>
					<option value="302">302</option>
					<option value="303">303</option>
					<option value="304">304</option>
					<option value="401">401</option>
					<option value="402">402</option>
					<option value="403">403</option>
					<option value="404">404</option>
					<option value="501">501</option>
					<option value="502">502</option>
					<option value="503">503</option>
					<option value="504">504</option>
					<option value="601">601</option>
					<option value="602">602</option>
					<option value="603">603</option>
					<option value="604">604</option>
					<option value="701">701</option>
					<option value="702">702</option>
					<option value="703">703</option>
					<option value="704">704</option>
					<option value="801">801</option>
					<option value="802">802</option>
					<option value="803">803</option>
					<option value="804">804</option>
					<option value="901">901</option>
					<option value="902">902</option>
					<option value="903">903</option>
					<option value="904">904</option>

					</select>
				</div>

				<div class="wrap-drop100 ">
					{% if form.request_type.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">Type is required</li>
						</ul>
					{% endif %}

					<span class="label-input100">Request type:</span>
					<select id="request" class="drop100" name="requesttype" >
						<option value="" disabled selected>Request type</option>	
						<option value="NOC">NOC</option>
						<option value="AddressProof">AddressProof(Passport)</option>
						<option value="SalesAgreement">SalesAgreement(NOC)</option>
						<option value="CCTV">CCTV</option>
						<option value="Other">Other</option>
					</select>
				</div>
				<div id="addressproof">
				<div class="wrap-input100 ">
					{% if form.name_to_be_addressed.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">Name to be Addressed:</span>
					<input class="input100" type="text" name="name" placeholder="Enter Name">
					<span class="focus-input100"></span>
				</div>
			</div>

				<div id="sales">
				<div class="wrap-input100 " >
					{% if form.new_members_names.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">New Members Names:</span>
					<input class="input100" type="text" name="name" placeholder="Enter Name">
					<span class="focus-input100"></span>
				</div>

				<div>

					{% if form.sales_details.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">Sales Details:</span>
					<input class="input100" type="text" name="name" placeholder="Enter details">
					<span class="focus-input100"></span>
				</div>

					<div class="wrap-drop100 ">

					{% if form.bank_format.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This Field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">Upload Bank Format:</span>
					{{form.bank_format}}
					</div>
				</div>

				<div id="cctv">
					<div class="wrap-drop100 ">

					{% if form.cctv_time_from.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">CCTV Time From:</span>
					{{form.cctv_time_from}}
				</div>

				<div class="wrap-drop100 ">

					{% if form.to_date.errors %}
						<ul class="errorlist">
    						<li style="font-size: 10px;color: red;font-style: italic;">This Field is required.</li>
						</ul>
					{% endif %}

					<span class="label-input100">CCTV Time To:</span>
					{{form.cctv_time_to}}
				</div>
				</div>

				<div class="container-contact100-form-btn">
				<input type="submit" class="contact100-form-btn" value="Submit"/>
				</div>
				
		</form>	
</div>
<h1>Your Requests</h1>

<table>
	<tr>
		<th>Date Of Issue</th>
		<th>Flat No</th>
		<th>Request Description</th>
		<th>Status</th>
		
	</tr>
	{% for r in table %}
	<tr>
		<td>{{r.request_date }}</td>
		<td>{{r.flatno}}</td>
		{% if r.request_type == 'SalesAgreement'%}
		<td>
			<p>You have made request for <b>Sales Agreement</b> </p>
			<ul>
				<li><b>New Member Names:</b>{{r.new_members_names}}</li>
				<li><b>Details:</b>{{r.sales_details}}</li>
				<li><b>Format:</b><a href="{{r.bank_format.url}}" class="btn btn-primary btn-sm" target="_blank">Download</a></li>
				<li><b>Remarks:</b>{{r.request}}</li>
			</ul>
		</td>

		{% elif r.request_type == 'AddressProof' %}
		<td>
			<p>You have made request for <b>Address Proof</b> </p>
			<ul>
				<li><b>Name to be Addressed:</b>{{r.name_to_be_addressed }}</li>
				<li><b>Remarks:</b>{{r.request}}</li>
			</ul>
		</td>
		{% elif r.request_type == 'CCTV' %}
		<td>
			<p>You have made request to view <b>CCTV Footage</b> </p>
			<ul>
				<li><b>From:</b>{{r.cctv_time_from }}</li>
				<li><b>To:</b>{{r.cctv_time_to }}</li>
				<li><b>Remarks:</b>{{r.request}}</li>
			</ul>
		</td>
		{% elif r.request_type == 'NOC' %}
		<td>
			<p>You have made request for <b>NOC</b> </p>
			<ul>
				<li><b>Details:</b>{{r.request}}</li>
			</ul>
		</td>
		{% else %}
		<td>
			<p><b>Your request:</b>{{r.request}} </p>	
		</td>
		{% endif %}
		<td>
			{% if r.completed %}
			<div class="container1">
     			 <ul class="progressbar">
          			<li class="active">Request Sent</li>
          			<li class="active">In Progress</li>
          			<li class="active">Completed</li>
          			
 				 </ul>
    		</div> 
    		
    		{% elif r.inprogress %}
			<div class="container1">
     			 <ul class="progressbar">
          			<li class="active">Request Sent</li>
          			<li class="active">In Progress</li>
          			<li>Completed</li>
          			
 				 </ul>
    		</div> 
    		
			{% else  %}
			<div class="container1">
     			 <ul class="progressbar">
          			<li class="active">Request Sent</li>
          			<li>In Progress</li>
          			<li>Completed</li>
          			
 				 </ul>
    		</div> 
    		{% endif %}
		</td>

	</tr>

	{% endfor %}

</table>

<datalist id="request_type">
	<option value="NOC" selected>NOC</option>
	<option value="AddressProof(Passport)">AddressProof(Passport)</option>
	<option value="SalesAgreementNOC">SalesAgreementNOC</option>
	<option value="CCTV">CCTV</option>
	<option value="Other">Other</option>

</datalist>

</body>

{% endblock %}